(this.webpackJsonpcrudproducts=this.webpackJsonpcrudproducts||[]).push([[0],{153:function(e,t,a){},187:function(e,t,a){e.exports=a(331)},192:function(e,t,a){},194:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){},329:function(e,t,a){},330:function(e,t,a){},331:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),l=a.n(c),u=(a(192),a(193),a(194),a(342)),o=a(31),i=function(){return r.a.createElement("nav",{className:"header"},r.a.createElement("div",{className:"header__container"},r.a.createElement("div",{className:"header__title"},r.a.createElement(o.b,{to:"/"},r.a.createElement("h1",null,"Products App"))),r.a.createElement(o.b,{to:"/products/create"},r.a.createElement(u.a,{className:"button",primary:!0,type:"button"},"Create Product"))))},s=(a(291),function(){return r.a.createElement("div",{className:"banner"},r.a.createElement("div",{className:"banner__img"},r.a.createElement("div",{className:"banner__title"},r.a.createElement("h2",null,"Products Category"))))}),d=(a(292),a(341)),p=a(340),m=a(12),E=a(19),f=a.n(E),O=a(50),b=a(162),v=a.n(b).a.create({baseURL:"http://localhost:4000/"}),R=a(37),y=a.n(R);var h=function(){return{type:"ADD_PRODUCT",payload:!0}},_=function(e){return{type:"ADD_PRODUCT_SUCESS",payload:e}},T=function(e){return{type:"ADD_PRODUCT_ERROR",payload:e}};var j=function(){return{type:"START_GET_PRODUCTS",payload:!0}},C=function(e){return{type:"GET_PRODUCTS_SUCCSESS",payload:e}},g=function(){return{type:"GET_PRODUCTS_ERROR",payload:!0}};var D=function(e){return{type:"GET_REMOVE_PRODUCT",payload:e}},P=function(){return{type:"REMOVE_PRODUCT_SUCCESS"}},S=function(){return{type:"REMOVE_PRODUCT_ERROR",payload:!0}};var U=function(e){return{type:"EDIT_PRODUCT",payload:e}};var N=function(){return{type:"START_EDIT_PRODUCT"}},w=function(e){return{type:"EDIT_PRODUCT_SUCESS",payload:e}},A=function(){return{type:"EDIT_PRODUCT_ERROR",payload:!0}},x=(a(153),a(9)),k=function(e){var t=e.product,a=t.name,n=t.price,c=t.id,l=Object(m.b)(),o=Object(x.f)(),i=function(e){l(function(e){return function(){var t=Object(O.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(D(e));try{v.delete("/products/".concat(e)),a(P()),y.a.fire("Deleted"," Your file has been deleted","success")}catch(n){console.log(n),a(S())}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},s=function(e){l(function(e){return function(){var t=Object(O.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(U(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),o.push("/products/edit/".concat(e.id))};return r.a.createElement(p.a.Row,{className:"table-row"},r.a.createElement(p.a.Cell,null,a),r.a.createElement(p.a.Cell,{className:"table-price"},"$",n),r.a.createElement(p.a.Cell,{className:"table-actions"},r.a.createElement(u.a,{onClick:function(){return s(t)},className:"button",primary:!0,type:"button"}," Edit "),r.a.createElement(u.a,{onClick:function(){return function(e){y.a.fire({title:"Are you sure?",text:"You will not be able to recover this imaginary file!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delet it!",cancelButtonText:"No, cancel it!"}).then((function(t){t.value&&i(e)}))}(c)},className:"button",primary:!0,type:"button"},"Eliminar")))},H=function(){var e=Object(m.b)();Object(n.useEffect)((function(){e(function(){var e=Object(O.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(j()),e.prev=1,e.next=4,v.get("/products");case 4:a=e.sent,t(C(a.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t(g());case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(m.c)((function(e){return e.products.products})),a=Object(m.c)((function(e){return e.products.error})),c=Object(m.c)((function(e){return e.products.loading}));return r.a.createElement("div",{className:"listProducts"},c&&r.a.createElement("p",null,"Loading..."),a&&r.a.createElement(d.a,{negative:!0},r.a.createElement(d.a.Header,null,"There was an error"),r.a.createElement("p",null,"Error getting products")),r.a.createElement(p.a,{celled:!0},r.a.createElement(p.a.Header,null,r.a.createElement(p.a.Row,null,r.a.createElement(p.a.HeaderCell,null,"Name"),r.a.createElement(p.a.HeaderCell,null,"Price"),r.a.createElement(p.a.HeaderCell,null,"Actions"))),r.a.createElement(p.a.Body,null,0===t.length?"There is not products":t.map((function(e){return r.a.createElement(k,{product:e,key:e.id})})))))},I=function(){return r.a.createElement("div",{className:"home-page padding-layout"},r.a.createElement(H,null))},G=a(58),B=a(339);var L=function(e){return{type:"SHOW_ALERT",payload:e}};var M=function(){return{type:"HIDE_ALERT"}},V=function(){var e=Object(n.useState)(""),t=Object(G.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(0),o=Object(G.a)(l,2),i=o[0],s=o[1],p=Object(x.f)(),E=Object(m.b)(),b=Object(m.c)((function(e){return e.products.loading})),R=Object(m.c)((function(e){return e.products.error})),j=Object(m.c)((function(e){return e.alert.alert})),C=function(e){E(function(e){return function(){var t=Object(O.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(h()),t.prev=1,t.next=4,v.post("/products",e);case 4:a(_(e)),y.a.fire("Success","the product was added successfully","success"),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),a(T(!0)),y.a.fire({icon:"error",title:"There was a error",text:"There was a error, loading the product"});case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return r.a.createElement("div",null,j&&r.a.createElement(d.a,{negative:!0},r.a.createElement(d.a.Header,null,"Error"),r.a.createElement("p",null,j.msg)),r.a.createElement(B.a,{onSubmit:function(e){if(e.preventDefault(),""===a.trim()||i<=0){E(function(e){return function(t){t(L(e))}}({msg:"fields are required"}))}else E((function(e){e(M())})),C({name:a,price:i}),p.push("/")}},r.a.createElement(B.a.Field,null,r.a.createElement("label",null,"Product Name"),r.a.createElement("input",{placeholder:"Product Name",value:a,onChange:function(e){return c(e.target.value)}})),r.a.createElement(B.a.Field,null,r.a.createElement("label",null,"Price Product"),r.a.createElement("input",{type:"number",placeholder:"Product Price",value:i,onChange:function(e){return s(Number(e.target.value))}})),r.a.createElement(u.a,{className:"button",primary:!0,type:"submit"},"Add Product")),b&&r.a.createElement("p",null,"loading..."),R&&r.a.createElement(d.a,{negative:!0},r.a.createElement(d.a.Header,null,"There was an error"),r.a.createElement("p",null,"Error saving the product")))},F=(a(329),function(){return r.a.createElement("div",{className:"create-page padding-layout"},r.a.createElement("div",{className:"card-form"},r.a.createElement("div",{className:"card-form__title"},r.a.createElement("h2",null,"Add New Product")),r.a.createElement(V,null)))}),Y=a(78),J=a(8),W=function(){var e=Object(m.b)(),t=Object(x.f)(),a=Object(n.useState)({name:"",price:""}),c=Object(G.a)(a,2),l=c[0],o=c[1],i=Object(m.c)((function(e){return e.products.loading})),s=Object(m.c)((function(e){return e.products.error})),p=Object(m.c)((function(e){return e.products.productEdit}));Object(n.useEffect)((function(){o(p)}),[p]);var E=function(e){o(Object(J.a)(Object(J.a)({},l),{},Object(Y.a)({},e.target.name,e.target.value)))},b=l.name,R=l.price;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{onSubmit:function(a){a.preventDefault(),e(function(e){return function(){var t=Object(O.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(N());try{v.put("/products/".concat(e.id),e),a(w(e)),y.a.fire("Success","the product was added successfully","success")}catch(s){console.log(s),A()}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(l)),t.push("/")}},r.a.createElement(B.a.Field,null,r.a.createElement("label",null,"Product Name"),r.a.createElement("input",{placeholder:"Product Name",name:"name",value:b,onChange:E})),r.a.createElement(B.a.Field,null,r.a.createElement("label",null,"Price Product"),r.a.createElement("input",{placeholder:"Product Price",name:"price",value:R,onChange:E})),r.a.createElement(u.a,{className:"button",primary:!0,type:"submit"},"Save Product")),i&&r.a.createElement("p",null,"loading..."),s&&r.a.createElement(d.a,{negative:!0},r.a.createElement(d.a.Header,null,"There was an error"),r.a.createElement("p",null,"Error Editing the product")))},q=(a(330),function(){return r.a.createElement("div",{className:"edit-page padding-layout"},r.a.createElement("div",{className:"card-form"},r.a.createElement("div",{className:"card-form__title"},r.a.createElement("h2",null,"Edit Product")),r.a.createElement(W,null)))}),$=a(33),z=a(172),K=a(174),Q={products:[],error:null,loading:!1,productRemove:null,productEdit:null},X={alert:null},Z=Object($.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_GET_PRODUCTS":case"ADD_PRODUCT":return Object(J.a)(Object(J.a)({},e),{},{loading:t.payload});case"ADD_PRODUCT_SUCESS":return Object(J.a)(Object(J.a)({},e),{},{loading:!1,products:[].concat(Object(K.a)(e.products),[t.payload])});case"GET_PRODUCTS_ERROR":case"ADD_PRODUCT_ERROR":case"REMOVE_PRODUCT_ERROR":case"EDIT_PRODUCT_ERROR":return Object(J.a)(Object(J.a)({},e),{},{loading:!1,error:t.payload});case"GET_PRODUCTS_SUCCSESS":return Object(J.a)(Object(J.a)({},e),{},{loading:!1,error:null,products:t.payload});case"GET_REMOVE_PRODUCT":return Object(J.a)(Object(J.a)({},e),{},{productRemove:t.payload});case"REMOVE_PRODUCT_SUCCESS":return Object(J.a)(Object(J.a)({},e),{},{products:e.products.filter((function(t){return t.id!==e.productRemove})),productRemove:null});case"EDIT_PRODUCT":return Object(J.a)(Object(J.a)({},e),{},{productEdit:t.payload});case"EDIT_PRODUCT_SUCESS":return Object(J.a)(Object(J.a)({},e),{},{productEdit:null,products:e.products.map((function(e){return e.id===t.payload.id?e=t.payload:e}))});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_ALERT":return Object(J.a)(Object(J.a)({},e),{},{alert:t.payload});case"HIDE_ALERT":return Object(J.a)(Object(J.a)({},e),{},{alert:null});default:return e}}}),ee=Object($.e)(Z,Object($.d)(Object($.a)(z.a)));var te=function(){return r.a.createElement(o.a,null,r.a.createElement(m.a,{store:ee},r.a.createElement(i,null),r.a.createElement(s,null),r.a.createElement("div",{className:"App"},r.a.createElement(x.c,null,r.a.createElement(x.a,{exact:!0,path:"/",component:I}),r.a.createElement(x.a,{exact:!0,path:"/products/create",component:F}),r.a.createElement(x.a,{exact:!0,path:"/products/edit/:id",component:q})))))};l.a.render(r.a.createElement(te,null),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.13302bf5.chunk.js.map